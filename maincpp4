#include <iostream>
#include <sstream>
#include <string>
#include <cmath>
using namespace std;

/* ----------------------------------------------------------
   ФУНКЦІЇ ДЛЯ ЗАВДАННЯ 1 (Proc17 і Proc37)
   ---------------------------------------------------------- */

// Функція для введення double з рядка, заміна коми на крапку
bool InputDouble(string prompt, double &value) {
    string line;
    cout << prompt;
    cin >> line; // зчитуємо слово до пробілу/Enter

    for (size_t i = 0; i < line.size(); i++)
        if (line[i] == ',') line[i] = '.';

    stringstream ss(line);
    if (ss >> value) return true;
    else {
        cin.clear();
        cin.ignore(1000, '\n'); // очищаємо буфер
        return false;
    }
}

// Proc17 — обчислення площі та периметра трикутника
void TriangleALS(double a, double b, double angle, double &S, double &P) {
    S = 0;
    P = 0;
    if (a <= 0 || b <= 0 || angle <= 0 || angle >= M_PI) {
        cout << "Некоректні дані: a=" << a << ", b=" << b << ", angle=" << angle << endl;
        return;
    }
    S = 0.5 * a * b * sin(angle);
    P = a + b + sqrt(a*a + b*b - 2*a*b*cos(angle));
}

// Proc37 — периметр прямокутника
double RectP(double x1, double y1, double x2, double y2) {
    double width = fabs(x2 - x1);
    double height = fabs(y2 - y1);
    return 2 * (width + height);
}

/* ----------------------------------------------------------
   ФУНКЦІЇ ДЛЯ ЗАВДАННЯ 2 (Integer35)
   ---------------------------------------------------------- */

// Ввід і перевірка значень
bool InputHours(int &hours) {
    cout << "Введіть кількість годин: ";
    cin >> hours;

    if (cin.fail() || hours < 0 || hours > 100000) {
        cout << "Помилка! Некоректний ввід!" << endl;
        return false;
    }
    return true;
}

// Розрахунок днів і залишку годин
void CalcDaysHours(int hours, int &days, int &rem) {
    days = hours / 24;
    rem = hours % 24;
}

// Виведення результату
void OutputResult(int days, int rem) {
    cout << "Діб: " << days << ", Залишок годин: " << rem << endl;
}

/* ----------------------------------------------------------
                 ПРОЦЕДУРИ ЗАВДАНЬ
   ---------------------------------------------------------- */

void Task_Proc17() {
    double a, b, angle;
    double S[3], P[3];

    for (int i = 0; i < 3; i++) {
        cout << "\nТрикутник " << i+1 << endl;
        // Ввід сторони a
        while (!InputDouble("Введіть сторону a: ", a) || a <= 0 || a > 100) {
            cout << "Помилка! Сторона має бути >0 і <=100." << endl;
        }
        // Ввід сторони b
        while (!InputDouble("Введіть сторону b: ", b) || b <= 0 || b > 100) {
            cout << "Помилка! Сторона має бути >0 і <=100." << endl;
        }
        // Ввід кута
        while (!InputDouble("Введіть кут між сторонами (в радіанах): ", angle) || angle <= 0 || angle >= M_PI) {
            cout << "Помилка! Кут має бути від 0 до π." << endl;
        }

        TriangleALS(a, b, angle, S[i], P[i]);
    }

    cout << "\nРезультати (S — площа, P — периметр):" << endl;
    for (int i = 0; i < 3; i++) {
        cout << "Трикутник " << i+1 << " -> S=" << S[i] << "  P=" << P[i] << endl;
    }
}

void Task_Proc37() {
    double x1, y1, x2, y2;
    for (int i = 0; i < 3; i++) {
        cout << "\nПрямокутник " << i+1 << endl;
        cout << "Введіть координати двох протилежних вершин (x1 y1 x2 y2): ";
        cin >> x1 >> y1 >> x2 >> y2;

        // Перевірка діапазону [-100,100]
        if (x1 < -100 || x1 > 100 || y1 < -100 || y1 > 100 ||
            x2 < -100 || x2 > 100 || y2 < -100 || y2 > 100) {
            cout << "Помилка! Координати повинні бути в діапазоні [-100,100]." << endl;
            i--; // повторити введення
            continue;
        }

        cout << "Периметр = " << RectP(x1, y1, x2, y2) << endl;
    }
}

void Task_Integer35() {
    int hours;
    if (!InputHours(hours)) return;

    int days, rem;
    CalcDaysHours(hours, days, rem);
    OutputResult(days, rem);
}

/* ----------------------------------------------------------
                        MAIN
   ---------------------------------------------------------- */

int main() {
    int choice;

    cout << "Оберіть завдання:" << endl;
    cout << "1 — Proc17 (трикутники)" << endl;
    cout << "2 — Proc37 (прямокутники)" << endl;
    cout << "3 — Integer35 (години → дні)" << endl;
    cout << "Введіть номер: ";
    cin >> choice;

    switch (choice) {
        case 1: Task_Proc17(); break;
        case 2: Task_Proc37(); break;
        case 3: Task_Integer35(); break;
        default: cout << "Неправильний вибір!" << endl;
    }

    return 0;
}
